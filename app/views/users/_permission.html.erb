<div class="col-lg-6">
  <div class="panel panel-primary">
    <div class="panel-footer">Permiss for <b><%= @userTemp.name %></b> user</div>
    <div class="panel-body" id="loadcontent">
      <%= form_for(@user_role, remote: true) do |f| %>
          <% if @user_role.errors.any? %>
              <div id="error_explanation">
                <h2><%= pluralize(@user_role.errors.count, "error") %> prohibited this user_role from being saved:</h2>

                <ul>
                  <% @user_role.errors.full_messages.each do |message| %>
                      <li><%= message %></li>
                  <% end %>
                </ul>
              </div>
          <% end %>

          <div style="display: none"><%= f.collection_select(:user_id, @user, :id, :name) %></div>

          <% @roles.each do |role| %>

              <input id="role_grant_grant_id" type="checkbox" value="<%= role.id %>" name="role_id[]">
              <label><%= role.role_name %></label>
              <br/>
          <% end %>

          <div class="actions">
            <%= f.submit %>
          </div>
      <% end %>
    </div>
  </div>
</div>

<div class="col-lg-6">
  <div class="panel panel-primary">
    <div class="panel-footer">Authorities of <b><%= @userTemp.name %></b> user</div>
    <div class="panel-body" id="loadcontent">
      <table class="table">

        <tbody>
        <% @user_roles.each do |user_role| %>
            <tr>
              <td><%= user_role.role.role_name%></td>
              <td><%= link_to 'Destroy', user_role, method: :delete, data: { confirm: 'Are you sure?' }, remote: true %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

